<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Cocos2d-html5 - Liquid layout</title>

    <link rel="stylesheet" href="../common/css/genericons.css">
    <link rel="stylesheet" href="../common/css/templatestyles.css">
    <link rel="stylesheet" href="../common/stylesheets/pygment_trac.css">
    <link rel="stylesheet" id="open-sans-css"
          href="//fonts.googleapis.com/css?family=Open+Sans%3A300italic%2C400italic%2C600italic%2C300%2C400%2C600&amp;subset=latin%2Clatin-ext&amp;ver=4.1.1"
          type="text/css" media="all">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-17485141-5', 'auto');
      ga('send', 'pageview');

    </script>
</head>
<body>

<button class="toggle" id="menutoggle">
</button>
<div class="wrapper">
<header>

    <div class="site-title">
        <div class="site-title-info">
            <h1>Cocos2d-html5</h1>
        </div>
        <div id="menu" class="site-menu">
            <div id="menuclose" class="close-button"><span class="icon-close"></span></div>
            <p class="demos-menu-title">Demos list</p>
            <ul id="site-menu" >

            </ul>
        </div>
    </div>
</header>

    <section>
        <div style="position:relative">
            <canvas id="c"></canvas>
            <span id="span" class="infospan"></span>
        </div>
        <div>
            <p>
                This demo showcases the liquid layout system
            </p>
            <p>
                It is a system that given some size and positioning constraints it is able to calculate Node's
                bounds as a result of applying the constraints.
            </p>
        </div>
    </section>
    <footer>
        <p>This project is maintained by <a href="https://github.com/hyperandroid">hyperandroid</a></p>
    </footer>
</div>
    <script src="../../../javascripts/scale.fix.js"></script>
    <script src="../../../javascripts/menu.js"></script>
    <script src="../../../dist/all.js"></script>
<script>
    (function() {
        document.getElementById("menutoggle").addEventListener("click", function(e) {
            e.preventDefault();
            document.getElementById("menu").style["display"]="block";
        }, false );
        document.getElementById("menuclose").addEventListener("click", function(e) {
            e.preventDefault();
            document.getElementById("menu").style["display"]="none";
        }, false );

        var layout = {

            type: "border",
            insets: ["5%", "2%", "5%", "2%"],
            gap: ["2%", "2%"],

            // layouts can be nested. in this case, in the border's layout north position, we lay out a row of 6 elements.
            top: {
                type: "grid",
                columns: 5,
                insets: ["5%", "5%", "5%", "5%"],
                gap: ["20px", "5%"],
                elements: [
                    {
                        type:"element",
                        name: "f0",
                        insets: ["5%", "5%", "5%", "5%"]
                    },
                    "f1","f2","f3","f4"
                ],
                preferredHeight: "20%"
            },

            // the center takes the remaining space after laying out north/south/east/west elements.
            center: {

                // add in the center a grid of 6 elements.
                type: "grid",
                columns: 6,
                gap: ["20px", "5%"],
                insets: ["1%", "1%", "1%", "1%"],

                // piles can be an array apart of a string with wildcards.
                elements: [

                    // lay the 4 Tableau elements in a row (4 columns)
                    "T0",
                    "T1",
                    "T2",
                    "T3",
                    // 5th column will be another layout: 4 elements in a row
                    {
                        type: "grid",
                        rows: 4,
                        elements: ["R0","R1","R2","R3"],
                        gap: ["0", "4%"],
                        insets: ["5%", "5%", "5%", "5%"]
                    },
                    // the 6th columns will be another border with a north element of 200px height (see style) and the remaining
                    // space in this column for an element Waste0.
                    // elements will be separated by a 25% empty space vertically
                    {
                        type: "grid",
                        rows: 2,
                        gap: ["15%", "5%"],
                        insets: ["5%", "5%", "5%", "5%"],
                        elements: [
                            {
                                type:"element",
                                name:"Stock0",
                                preferredHeight:"15%"
                            },
                            "Waste0"
                        ]
                    }
                ]
            }
        };

        var l= cc.plugin.layout.BaseLayout.parse(layout);
        l.layout(0,0,700,600);

        var c= document.getElementById("c");
        c.width=700;
        c.height=600;
        var ctx= c.getContext("2d");
        ctx.strokeStyle="#f00";
        ctx.lineWidth=2;

        l.paint(ctx);

        console.log( JSON.stringify( l, null, 2 ) );

    })();
</script>

</body>
</html>